<div class="container">
  <a class="btn btn-primary mt-3" [routerLink]="['/']">Go to Landing</a>

  <h1 class="m-5">Register as a Vendor</h1>
  <mat-horizontal-stepper>
    <!-- Step 1: Vendor Information -->
    <mat-step>
      <ng-template matStepLabel>Vendor Information</ng-template>
      <form [formGroup]="vendorForm">
        <mat-form-field class="m-3">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Name">
        </mat-form-field>

        <mat-form-field class="m-3">
          <mat-label>Country of Vendor</mat-label>
          <mat-select formControlName="countryOfVendor" placeholder="Country of Vendor">
            <mat-option *ngFor="let country of countryList" [value]="country.altSpelling">
              {{ country.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="m-3">
          <mat-label>Description</mat-label>
          <textarea matInput rows="5" cols="40" formControlName="description" placeholder="Describe yourself! This is the message that will appear in the main page" maxlength="144"></textarea>
          <mat-hint align="end">{{ vendorForm.get('description')?.value.length }}/144</mat-hint>
        </mat-form-field>

        <div>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>




   <!-- Step 2: Languages Spoken -->
<mat-step>
  <ng-template matStepLabel>Languages Spoken</ng-template>
  <form [formGroup]="languagesForm">
    <!-- Dropdown list for selecting languages -->
    <mat-form-field class="m-3">
      <mat-label>Select Language</mat-label>
      <mat-select formControlName="selectedLanguage">
        <mat-option *ngFor="let language of languages" [value]="language.id">
          {{ language.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <!-- Button to add selected language -->
    <button mat-raised-button class="m-3" (click)="addLanguage()">Add</button>
    <!-- List to display selected languages -->
    <ul class="m-3">
      <li *ngFor="let selectedLanguage of selectedLanguages">
        {{ selectedLanguage.name }} <!-- Display selected language -->
        <button mat-icon-button (click)="removeLanguage(selectedLanguage)">
          <mat-icon>close</mat-icon> <!-- Button to remove language -->
        </button>
      </li>
    </ul>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button matStepperNext>Next</button>
    </div>
  </form>
</mat-step>


    <!-- Step 3: Contact Information -->
    <mat-step>
      <ng-template matStepLabel>Contact Information</ng-template>
      <form [formGroup]="contactForm">
        <mat-form-field class="m-3">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="Email">
        </mat-form-field>
        <mat-form-field class="m-3">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone" placeholder="Phone">
        </mat-form-field>
        <mat-form-field class="m-3">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password" placeholder="Password">
          <mat-hint align="end">Password must contain at least 8 characters, including uppercase, lowercase, and numbers.</mat-hint>
          <!-- Mostrar error si la contraseña no es válida -->
          <mat-error *ngIf="contactForm.get('password')?.hasError('invalidPassword')">
            Password must contain at least 8 characters, including uppercase, lowercase, and numbers.
          </mat-error>
        </mat-form-field>

        <mat-form-field class="m-3">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="confirmPassword" placeholder="Confirm Password">
          <!-- Mostrar error si las contraseñas no coinciden -->
          <mat-error *ngIf="contactForm.hasError('passwordsNotMatch')">
            Passwords do not match.
          </mat-error>
        </mat-form-field>

        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>


    <!-- Step 4: School Information -->
    <mat-step>
      <ng-template matStepLabel>School Information</ng-template>
      <form [formGroup]="schoolForm">

        <mat-form-field class="m-3">
          <mat-label>School Name</mat-label>
          <input matInput formControlName="schoolName" placeholder="School Name">
        </mat-form-field>
        <mat-form-field class="m-3">
          <mat-label>Country</mat-label>
          <input matInput formControlName="schoolCountry" placeholder="Country">
        </mat-form-field>
        <mat-form-field class="m-3">
          <mat-label>City</mat-label>
          <input matInput formControlName="schoolCity" placeholder="City">
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="submitForm()">Submit</button>
        </div>
      </form>
    </mat-step>
  </mat-horizontal-stepper>

</div>
